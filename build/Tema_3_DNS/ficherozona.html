

<!DOCTYPE html>
<html class="writer-html5" lang="es" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4.3. Fichero de zona DNS &mdash; ASIR - Servicios de Red e Internet</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/my_theme.css?v=572081c4" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=4936afed"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=f85f4cfb"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="4.4. Configuración del servicio" href="configuracion.html" />
    <link rel="prev" title="4.2. Tipos de servidores, resoluciones y búsquedas" href="tipos.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Servicios de Red e Internet
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenidos</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../PRESENTACION/Index.html">1. Presentación Módulo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TEMA_1_Introduccion/Index.html">2. Introducción a los Servicios de Red</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TEMA_2_Dhcp/Index.html">3. Protocolo de Configuración Dinámico. DHCP</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Index.html">4. Resolución de nombres. DNS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="espacio.html">4.1. El Espacio de Nombres de Dominio</a></li>
<li class="toctree-l2"><a class="reference internal" href="tipos.html">4.2. Tipos de servidores, resoluciones y búsquedas</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.3. Fichero de zona DNS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#directivas">4.3.1. Directivas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#registros-de-recursos-rr">4.3.2. Registros de recursos(RR)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-fichero-de-zona">4.3.3. Ejemplo Fichero de zona</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuracion.html">4.4. Configuración del servicio</a></li>
<li class="toctree-l2"><a class="reference internal" href="comprobaciones.html">4.5. Comprobando el funcionamiento</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Tema_4_Router/Index.html">5. Interconexión de Redes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tema_5_Web/Index.html">6. Servicio WEB. HTTP(S)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tema_6_Acceso/Index.html">7. Acceso</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tema_7_Email/Index.html">8. Correo Electrónico</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tema_8_Otros/Index.html">9. Otros Servicios</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Servicios de Red e Internet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Index.html"><span class="section-number">4. </span>Resolución de nombres. DNS</a></li>
      <li class="breadcrumb-item active"><span class="section-number">4.3. </span>Fichero de zona DNS</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Tema_3_DNS/ficherozona.rst.txt" rel="nofollow"> Ver código fuente de la página</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fichero-de-zona-dns">
<h1><span class="section-number">4.3. </span>Fichero de zona DNS<a class="headerlink" href="#fichero-de-zona-dns" title="Link to this heading"></a></h1>
<p>
Ya sabemos que DNS gestiona una base de datos distribuida entre múltiples servidores que almacenan ficheros de zona con información sobre nombre de dominio. Los Archivos de zona contienen información sobre un espacio de nombres particular y son almacenados en los servidores autorizados. Los ficheros de zona contienen básicamente dos cosas <sup id="fnref:note1"><a class="footnote-ref" href="#fn:note1" role="doc-noteref">1</a></sup>:
</p><ol class="arabic">
<li><p><strong>DIRECTIVAS</strong>: Parámetros y configuraciones especiales a la zona.</p></li>
<li><p><strong>REGISTROS DE RECURSOS (RR)</strong>: Elementos integrantes de la zona.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/ficherozona.png"><img alt="Ejemplo fichero de zona" class="align-center" src="../_images/ficherozona.png" style="width: 400px;" />
</a>
</div></blockquote>
</li>
</ol>
<p>Todas las directivas y registros de recursos deberían ir en sus propias líneas individuales. Los comentarios se pueden colocar después de los punto y comas (;).</p>
<section id="directivas">
<h2><span class="section-number">4.3.1. </span>Directivas<a class="headerlink" href="#directivas" title="Link to this heading"></a></h2>
<p>Las directivas comienzan con el símbolo <strong>$</strong> seguido del nombre de la directiva. Usualmente aparecen en la parte superior del archivo de zona. Lo siguiente son usadas a menudo:</p>
<ul>
<li><p><strong>$INCLUDE</strong>: Incluye el contenido de otro archivo en el fichero de zona donde se usa la directiva. Sirve para separar la configuración del servidor en distintos ficheros (La configuración de Ubuntu, de hecho, lo hace así).</p></li>
<li><p><strong>$ORIGIN</strong>: ES el nombre del dominio acabado en punto. Se anexa a registros no completamente especificados (acabados en punto «.»).</p>
<p>Pueden haber varios en un mismo fichero de zona, por ejemplo para delegar subdominios.</p>
<p>Si no se indica ninguna directiva de este tipo se tomará como valor de ORIGIN el nombre de la zona.</p>
<blockquote>
<div><div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>ORIGIN<span class="w"> </span>botet.es.
<span class="go">...     ; a partir de aquí se añade .botet.es. a los nombres relativos</span>
<span class="go">...</span>
<span class="gp">$</span>ORIGIN<span class="w"> </span>informatica.botet.es.
<span class="go">...     ; a partir de aquí se añade .informatica.botet.es. a los nombres relativos</span>
<span class="go">...</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>$TTL</strong>: Ajusta el valor <em>Time to Live (TTL)</em> predeterminado para la zona. Este es el tiempo, en segundos, que un RR es válido. Cada recurso puede contener su propio valor TTL, el cual ignora esta directiva..</p></li>
</ul>
</section>
<section id="registros-de-recursos-rr">
<h2><span class="section-number">4.3.2. </span>Registros de recursos(RR)<a class="headerlink" href="#registros-de-recursos-rr" title="Link to this heading"></a></h2>
<p>El componente principal de un archivo de zona es su registro de recursos. El formato de representación dentro del fichero de zona suele ser:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../_images/rrdns.png"><img alt="Estructura registro de recurso" class="align-center" src="../_images/rrdns.png" style="width: 400px;" />
</a>
</div></blockquote>
<ol class="arabic simple">
<li><p><strong>TTL (Time to life)</strong>: Es opcional a  nivel de recurso, ya que se puede definir a nivel global para toda la zona.</p></li>
<li><p>El campo <strong>Clase</strong> indica la arquitectura de protocolos utilizada (habitualmente TCP/IP cuyo identificador es <strong>IN</strong>)</p></li>
<li><dl class="simple">
<dt>El campo <strong>Tipo</strong> puede tener multitud de valores, dependiendo del tipo de recurso al que haga referencia.</dt><dd><ul class="simple">
<li><p>SOA – INICIO DE AUTORIDAD</p></li>
<li><p>A – HOST</p></li>
<li><p>CNAME – ALIAS</p></li>
<li><p>PTR – PUNTERO(Resolucion inversa)</p></li>
<li><p>NS – SERVIDOR DE NOMBRES</p></li>
<li><p>MX – SERVIDOR DE CORREO</p></li>
<li><p>SRV – OTROS SERVIDORES.</p></li>
</ul>
</dd>
</dl>
</li>
</ol>
</section>
<section id="ejemplo-fichero-de-zona">
<h2><span class="section-number">4.3.3. </span>Ejemplo Fichero de zona<a class="headerlink" href="#ejemplo-fichero-de-zona" title="Link to this heading"></a></h2>
<blockquote>
<div><div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span>ORIGIN<span class="w"> </span>example.com.
<span class="gp">$</span>TTL<span class="w"> </span><span class="m">86400</span>
<span class="go">@       SOA     dns1.example.com.       hostmaster.example.com. (</span>
<span class="go">2001062501 ; serial</span>
<span class="go">21600      ; refresh after 6 hours</span>
<span class="go">3600       ; retry after 1 hour</span>
<span class="go">604800     ; expire after 1 week</span>
<span class="go">86400 )    ; minimum TTL of 1 day</span>
<span class="go">;</span>
<span class="go">;</span>
<span class="go">NS      dns1.example.com.</span>
<span class="go">NS      dns2.example.com.</span>
<span class="go">dns1    A       10.0.1.1</span>
<span class="go">      AAAA      aaaa:bbbb::1</span>
<span class="go">dns2    A       10.0.1.2</span>
<span class="go">      AAAA      aaaa:bbbb::2</span>
<span class="go">;</span>
<span class="go">;</span>
<span class="go">@       MX      10      mail.example.com.</span>
<span class="go">  MX    20      mail2.example.com.</span>
<span class="go">mail    A       10.0.1.5</span>
<span class="go">      AAAA      aaaa:bbbb::5</span>
<span class="go">mail2   A       10.0.1.6</span>
<span class="go">      AAAA      aaaa:bbbb::6</span>
<span class="go">;</span>
<span class="go">;</span>
<span class="go">; This sample zone file illustrates sharing the same IP addresses for multiple services:</span>
<span class="go">;</span>
<span class="go">services        A       10.0.1.10</span>
<span class="go">          AAAA  aaaa:bbbb::10</span>
<span class="go">          A     10.0.1.11</span>
<span class="go">          AAAA  aaaa:bbbb::11</span>

<span class="go">ftp     CNAME   services.example.com.</span>
<span class="go">www     CNAME   services.example.com.</span>
<span class="go">;</span>
<span class="go">;</span>
<span class="go">      ...</span>
</pre></div>
</div>
</div></blockquote>
<div class="footnotes">
    <hr />
    <ol>
        <li class="footnote" id="fn:note1">
            <p>
                <b>Fuente:</b> <a href="https://www.fpgenred.es/DNS/ficheros_de_zona_y_registros_de_recursos.html" target="_blank">Ficheros de zona y registros de recursos</a> <a class="footnote-backref" rev="footnote" href="#fnref:note1">&#8617;</a>
            </p>
        </li>
    </ol>
</div></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de página">
        <a href="tipos.html" class="btn btn-neutral float-left" title="4.2. Tipos de servidores, resoluciones y búsquedas" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="configuracion.html" class="btn btn-neutral float-right" title="4.4. Configuración del servicio" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor 2023, M. Tomás Giménez Albert.</p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>